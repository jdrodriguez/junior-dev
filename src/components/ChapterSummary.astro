---
import ProgressChecklist from './ProgressChecklist.astro';
interface Props {
  chapter?: number;
  title: string;
  takeaways?: string[];
  concepts?: string[];
  checklistId?: string;
  checklistItems?: string[];
}
const { chapter, title, takeaways, concepts, checklistId, checklistItems } = Astro.props;
const items = takeaways || concepts;
const hasSlot = Astro.slots.has('default');
---
<div class="chapter-summary">
  {chapter ? <h3>Chapter {chapter} Summary: {title}</h3> : <h3>{title}</h3>}
  {items && items.length > 0 && (
    <>
      <p><strong>What you learned:</strong></p>
      <ul>
        {items.map(t => <li>{t}</li>)}
      </ul>
    </>
  )}
  {hasSlot && (
    <slot />
  )}
  {checklistId && checklistItems && (
    <ProgressChecklist id={checklistId} items={checklistItems} />
  )}
</div>
